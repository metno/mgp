The class CallgrindTester is a simple API to facilite profiling with callgrind.

Typical usage:

STEP 1: Write the test code, essentially something like this:

    #include "callgrindtester.h"
    ...
    TestObject testObj;
    CallcrindTester cgTester;
    cgTester.start(10, 500, &testObj, "action"); // this starts the test
    ...
    void TestObject::action(int step, int nSteps) // this public slot is called at each test step
    {
      qDebug() << "action:" << step << ":" << nSteps;
      // do something interesting, like posting a MouseMove event etc.
    }


STEP 2: Build the test code and run it through valgrind/callgrind like this (note the '--instr-atstart=no' option!):

    $ valgrind --tool=callgrind --instr-atstart=no <executable>


STEP 3: Analyze the result:

    $ kcachegrind callgrind.out.<pid>
