*** QC library (Qt Chat library) ***

OVERVIEW

The QC library is a simple chat system based on
QTcpSocket. Conversations are kept in a central SQLite database in
order for clients not to lose anything if they go offline for a
period.


DIRECTORY CONTENTS

docs/
  Documentation about the architecture etc.

qclib/

  The core library.

qcapp_example/

  An example Qt app controlling the local chat window and receiving
  notifications. This shows how e.g. Diana would use the API. The
  qcapp communicates with the local chat server (qclserver).

qcopenchatwin/

  A program that first requests the local chat server (qclserver) to
  open the chat window, and then terminates. This would typically be
  invoked from a system menu and/or a global keyboard shortcut.

qclserver/

   The local chat server. This shows a chat window and communicates
   with a qccserver as well as one or more local qcapps.

qccserver/

  The central chat server. This communicates with one or more
  qclservers and stores conversations in a local SQLite database
  file.


INSTALLATION

See INSTALL for how to compile the library and the apps.


USE CASES

(Note: In the following we assume that the library is compiled and that
PATH and LD_LIBRARY_PATH are set as appropriate.)

USE CASE 1: Create an empty database file.

  To create an empty database file called /disk1/test.db, first log on
  to the central host and issue the following command:

      qccserver --dbfile /disk1/test.db --initdb

  Any existing file must be manually removed for the command to succeed.


USE CASE 2: Start the central server.

  To start a central server using database file /disk1/test.db and
  accepting local server connections on port 1105, log on to the
  central host and issue the following command:

      qccserver --dbfile /disk1/test.db --cport 1105

  The command fails if another process is already accepting
  connections on port 1105.


USE CASE 3: Start the local server.

  To start a local server that
  1: connects to a central server running on 'chost' and accepts local
     server connections on port 1105, and
  2: accepts qcapp connections on port 1104,
  log on to the local host and issue the following command:

      qclserver --chost chost --cport 1105 --lport 1104

  The command fails if either
  1: no central server running on 'chost' accepts local server connections on port 1105, or
  2: another process is already accepting connections on port 1104


USE CASE 4: Start the qcapp_example.

  To start a qcapp_example that connects to a local server that accepts connections on port 1104,
  log on to the local host and issue the following command:

      qcapp_example --lport 1104

  The command fails if no local server accepts connections on port 1104.
